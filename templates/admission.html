{% extends "base.html" %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'admission.css' %}">
{% endblock %}
{% block title %} Admission-Form | Dofort Edu {% endblock title %}

{% block body%}
<div class="form-container">
    <h2>Dofort Edu</h2>
    <h3>Admission Form</h3>

    <form onsubmit="return validateGender()" method="POST" novalidate>
      {% csrf_token %}  <!-- ✅ CSRF Token added here -->

      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
      </div>

      <div class="form-group">
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required>
      </div>

      <div class="form-group">
        <label for="contact">Contact No.:</label>
        <input type="tel" id="contact" name="contact" required>
      </div>

      <div class="form-group">
        <label for="mail">Mail ID:</label>
        <input type="email" id="mail" name="mail" required>
      </div>

      <div class="form-group">
        <label for="dob">Date of Birth:</label>
        <input type="date" id="dob" name="dob" required>
      </div>

      <div class="form-group gender-options">
        <label>Gender:</label>
        <label><input type="radio" name="gender" value="Male" required> Male</label>
        <label><input type="radio" name="gender" value="Female" required> Female</label>
        <label><input type="radio" name="gender" value="Other" required> Other</label>
      </div>

      <div class="form-group">
        <label for="occupation">Occupation:</label>
        <input type="text" id="occupation" name="occupation" required>
      </div>

      <div class="form-group">
        <label for="gname">Guardian’s Name:</label>
        <input type="text" id="gname" name="gname" required>
      </div>

      <div class="form-group">
        <label for="goccupation">Guardian’s Occupation:</label>
        <input type="text" id="goccupation" name="goccupation" required>
      </div>

      <div class="form-group">
        <label for="gcontact">Guardian’s Contact:</label>
        <input type="tel" id="gcontact" name="gcontact" required>
      </div>

      <div class="form-group">
        <h3>Educational Qualification</h3>
        <table>
          <thead>
            <tr>
              <th>Institute</th>
              <th>Class/Sem</th>
              <th>Stream</th>
              <th>Passing Year</th>
              <th>Percentage</th>
            </tr>
          </thead>
          <tbody>
            {% for i in "123" %}
            <tr>
              <td><input type="text" name="institute{{ i }}"></td>
              <td><input type="text" name="class_sem{{ i }}"></td>
              <td><input type="text" name="stream{{ i }}"></td>
              <td><input type="text" name="year{{ i }}"></td>
              <td><input type="text" name="percentage{{ i }}"></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="form-group">
        <label for="subjects">Subjects Interested:</label>
        <input type="text" id="subjects" name="subjects" required>
      </div>

      <div class="form-group checkbox-group">
        <label>Reference:</label>
        <label><input type="checkbox" name="reference_teachers"> Teachers</label>
        <label><input type="checkbox" name="reference_friends"> Friends</label>
        <label><input type="checkbox" name="reference_relatives"> Relatives</label>
        <label><input type="checkbox" name="reference_others"> Others</label>
      </div>

      <div class="form-group">
        <label for="refname">His/Her Name:</label>
        <input type="text" id="refname" name="refname">
      </div>

      <button class="submit-btn" type="submit">Submit</button>
    </form>
</div>

<script>
function validateGender() {
  const genderSelected = document.querySelector('input[name="gender"]:checked');
  if (!genderSelected) {
    alert("Please select a gender.");
    return false;
  }
  return true;
}
</script>
{% endblock body %}
